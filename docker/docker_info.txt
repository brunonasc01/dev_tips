- instalar docker
1. sincroniza apt-get 
sudo apt-get update

2. remove instalacoes antigas
sudo apt-get remove docker docker-engine docker.io

3. instalar
sudo apt install docker.io

- corrigir erro "Got permission denied while trying to connect to the Docker daemon socket"
execute sudo chmod 666 /var/run/docker.sock

- baixar uma imagem
docker pull <nome> (latest) ou docker pull <nome>:<versao> (versao especifica)

- registrar uma imagem no Docker Registry
docker push <nome>

- verificar as imagens instaladas
docker images

- conferir status do servico
service docker status

- reiniciar o servico
service docker restart

- Docker image e como uma classe e Docker container Ã© como um objeto

- rodar uma imagem no modo interativo
docker run -i -t <imagem> <terminal>

- Sair do mod interativo
Ctrl+P Ctrl+Q

- Listar os containers em execucao
docker ps (-a mostra os parados)

- Entrar no container (interativo)
docker attach <nome ou id do container>

- Parar um container
docker stop <id>

- Iniciar um container
docker start <id>

- Reiniciar um container
docker restart <id>

- Pausar um container
docker pause/unpause <id>

- Remover um container (liberar memoria)
docker rm <id>

- Remover containers parados (stopped)
docker container prune

- Criar uma nova imagem a partir do container
docker commit <id-do-container> <nome-nova-imagem>

- Renomear uma imagem
docker tag <id> <novo-nome>

- Rodar um container no modo daemon
docker run -d <imagem>

- Ver os logs de um container 
docker logs <id>

- Adicionar o docker ao root (remove a necessidade do sudo)
sudo groupadd docker
sudo usermod -aG docker $USER

- Criar uma imagem a partir do Dockerfile
docker build -t <nome-da-imagem>(opcional) <path-do-dockerfile>

- Comandos dockerfile
FROM <image> define a imagem base
MAINTAINER <author detail> detalhes do autor da imagem
COPY <src> <dst> copia um ou mais arquivos do source para o destino (dentro da imagem)
ADD <src> <dst> semelhante a copy, mas aceita aquivos tar no src
ENV <key> <value> define uma variavel de ambiente
ARG <arg> <value> define argumentos que serao aplicados no build da imagem
USER <id ou name> define o nome do usuario da imagem
WORKDIR <path> define o diretorio base
VOLUME <mountpoint> cria um diretorio na imagem
EXPOSE <port>/<proto> <port...> expoe portas da imagem para acesso externo
LABEL <key>=<value> adiciona valores ao metadata da imagem
RUN <comando> executa um comando qualquer no shell
CMD <comando> semelhante ao RUN, mas e executado na inicializacao da imagem
ENTRYPOINT <comando> executa um comando tambem
HEALTHCHECK <opt> CMD <comando> opt define o intervalo da verificacao do status do container e comand e o comando a ser executado

- Conferir o historico (layers) de uma imagem
docker history <id/name>
